<div class="card-header">
  <%= movie.country.name %>
  <div class="float-right">
    <% if movie.production.present? %>
      <%= movie.production.year %>年
    <% else %>
      製作年不明
    <% end %>
  </div>
</div>
<div class="card-body">
  <%= link_to movie_path(movie), class:"text-dark", data: { "turbolinks" => false } do %>
    <strong class="card-title" style="font-size:1.8rem;"><%= movie.title %></strong>
  <% end %>
  <p class="card-text"><%= movie.sub_title %></p>
</div>
<div class="card-footer d-flex">
  <%= link_to favorite_movie_path(movie), method: :post, remote: true, style:"color: #4CA2FF;" do %>
    <div class="favorite-movie-<%= movie.id %>">
      <%= render partial: "movies/favorite", locals: {movie: movie} %>
    </div>
  <% end %>
  <div class="review-movie-<%= movie.id %>">
    <div class="d-flex">
      <% if review.nil? %>
        <div style="cursor:pointer; color: #4CA2FF;" data-toggle="modal" data-target="#reviewModal<%= movie.id %>">
          <i class="far fa-check-circle ml-4"></i>
          <span class="ml-1 mb-0"><%= movie.reviews.size %></span>
        </div>
      <% else %>
        <%= link_to review_path(review, review_page: request.url), method: :delete, data: { confirm: 'レビューを削除します' }, style:"color: #4CA2FF;" do %>
          <i class="fas fa-check-circle ml-4"></i>
          <span class="ml-1 mb-0"><%= movie.reviews.size %></span>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
<%= form_with model: movie.reviews.new, url: movie_reviews_path(movie) do |f| %>
  <%= render partial: "reviews/modal", locals: {review: movie, review_title: movie, f: f} %>
<% end %>
<%= %>
